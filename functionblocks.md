---
title: micro:bit &trade; MakeCode &trade; BME280用拡張機能(日本語仕様)とブロックについて
layout: default
---

# BME280用拡張機能（日本語仕様）とブロック 
1. BME280を利用するために
2. 日本語仕様の拡張機能と利用方法
3. 拡張機能のブロック紹介

---

## 1. BME280を利用するために
micro:bit &trade; （以下micro:bitと表記）で環境センサーBME280を利用するためには、MakeCode &trade; （以下MakeCodeと表記）のBME280用拡張機能が必要です。  
拡張機能はMakeCodeを利用してmicro:bitができることの幅を広げるための機能です。たとえばmicro:bitには無線通信機能があります。Bluetooth通信の利用も可能ですが、MakeCodeの基本機能ではサポートされていません。MakeCodeの拡張機能からBluetooth通信の拡張機能を追加することでBluetooth通信が可能になります。拡張機能は、パソコンにプリンターを接続して印刷するためにインストールするドライバみたいなものだと思ってもかまいません。  
MakeCodeの拡張機能でBME280と検索すると拡張機能が数種類出てきます。シンプルにBME280と表記されたものはmicroPhythonのChineseコミュニティが制作したものです。基本的な機能はそろっているのでこれを利用するのが分かりやすいと思います。
ただ、microPhython Chineseコミュニティの拡張機能はブロック表記が英語であること、取得される数値が整数値であることが弱点といえば弱点です。BME280は環境センサーとはいえ、気象データに特化したセンサーのため、ブロックには一般的に馴染みのない英語（Dew Point＝露点）もあります。

---

## 2. 日本語仕様の拡張機能と利用方法
### 日本語仕様の概要
BME280拡張機能（日本語仕様）はmicroPhython Chineseコミュニティの拡張機能をベースに日本語移植および機能の変更と追加をを行いました。拡張機能そのものは、ほぼmicroPhython Chineseコミュニティのものと同じです。ただし、ブロック表記の日本語化に加え次の機能が加えられています。
- BME280から出力される気温・気圧・湿度の各数値の桁を整数/小数第１位/小数第２位から選べるようにした。
- BME280が出す気温、気圧を用いて標高差を計算するブロックを加えた。（数値　整数/小数第１位の選択）
- BME280が出す気温の値から飽和水蒸気圧と飽和水蒸気量を計算するブロックを加えた。（数値　整数/小数第１位の選択）
- 露点計算の方法を改良マグヌス式に変更した。（数値　整数/小数第１位の選択）

### 利用方法
micro:bitのMakeCodeのエディター画面から拡張機能をクリックし、次のURLを拡張機能の検索に張り付けて検索してください。BME280の拡張機能（日本語仕様）が読み込まれ利用することができいます。

``` https://github.com/tanagogedora/bme280-jp ```

---

## 3. 拡張機能のブロック紹介
### (1) センサー制御ブロック BME280のセンサー機能を制御するための基本ブロック
<img src="/image/sensorcontrol.jpeg"  style="float: right; margin: 10px; width: 200px;" alt="センサー制御ブロック" >
センサーの電源管理やI2Cアドレスを設定するブロック。
<p><B>I2Cアドレスブロック</B></p> 

   

### (2) 環境データの基本ブロック センサーとしてのBME280が取得した数値を取り出すブロック
### (3) 応用ブロック BME280から得られたデータをもとに数値を計算・導くブロック
### (4) 条件ブロック



